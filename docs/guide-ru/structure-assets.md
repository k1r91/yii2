Ресурсы
==========

Под ресурсом в Yii подразумевается файл, на который может ссылаться веб-страница. Это может быть CSS файл, Javascript файл, файл видео или изображения, и т.д. Ресурсы располагаются в доступной для веб-сервера директории и обслуживаются последним напрямую.

Почти всегда предпочтительнее управлять ресурсами программно. Например, когда вы используете на странице виджет [[yii\jui\DatePicker]], он автоматически вставит требуемые файлы CSS и Javascript, вместо того чтобы требовать от вас вручную искать и вставлять эти файлы. И когда вы обновите виджет на новую версию, он автоматически будет использовать новую версию файлов-ресурсов. В этот туториале мы обсудим всю мощь и преимущества абстракции управления ресурсами, предлагаемой Yii.

## Пакеты ресурсов <a name="asset-bundles"></a>

Yii управляет ресурсами в модуле *пакеты ресурсов*. Пакет ресурсов это набор ресурсов (файлов), расположенных в одной директории. Когда вы объявляете пакет ресурсов в [представлении](structure-views.md), последнее включает в себя объявленные в пакете CSS и Javascript файлы на отображаемую веб-страницу.

## Объявление пакетов ресурсов <a name="defining-asset-bundles"></a>

Пакеты ресурсов объявляются как PHP-классы, наследующие от [[yii\web\AssetBundle]]. Имя пакета совпадает с именем соответствующего PHP-класса (без предшествующего обратного слеша). Класс пакета ресурсов должен иметь возможность  [автозагрузки](concept-autoloading.md). Он обычно определяет точное расположение файлов-ресурсов, какие именно CSS и Javascript файлы пакет содержит, и какие данный пакет имеет зависимости от других пакетов.

Код ниже объявляет основной пакет ресурсов, используемый [базовым шаблоном приложения](start-installation.md):

```php
<?php

namespace app\assets;

use yii\web\AssetBundle;

class AppAsset extends AssetBundle
{
    public $basePath = '@webroot';
    public $baseUrl = '@web';
    public $css = [
        'css/site.css',
    ];
    public $js = [
    ];
    public $depends = [
        'yii\web\YiiAsset',
        'yii\bootstrap\BootstrapAsset',
    ];
}
```

Вышеизложенный класс `AppAsset` определяет, что файлы ресурсов располагаются в директории `@webroot`, которая соответствует URL: `@web`. Пакет содержит один файл стилей `css/site.css` и не содержит Javascript файлов; данный пакет так же имеет зависимости от двух других пакетов: [[yii\web\YiiAsset]] и [[yii\bootstrap\BootstrapAsset]]. Более детальное разъяснение свойств класса [[yii\web\AssetBundle]] можно найти ниже:

* [[yii\web\AssetBundle::sourcePath|sourcePath]]: определяет корневую директорию, которая содержит файлы ресурсов данного пакета. Это свойство следует устанавливать, если корневая директория недоступна из-под веб. В противном случае вам следует установить свойства [[yii\web\AssetBundle::basePath|basePath]] и [[yii\web\AssetBundle::baseUrl|baseUrl]]. [Псевдонимы](concept-aliases.md) могут быть использованы здесь.
* [[yii\web\AssetBundle::basePath|basePath]]: определяет доступную из-под веб директорию, которая содержит файлы ресурсов данного пакета. Если вы определили [[yii\web\AssetBundle::sourcePath|sourcePath]], [диспетчер ресурсов](#asset-manager) проигнорирует это свойство и опубликует ресурсы из корневой директории в директорию, доступную из-под веб. Вам следует определять это свойство в том случае, если ваши файлы ресурсов уже находятся в директории, доступной из-под веб и не требуют публикации. [Псевдонимы](concept-aliases.md) могут быть использованы здесь.
* [[yii\web\AssetBundle::baseUrl|baseUrl]]: определяет URL соответствующий директории, определённой в
  [[yii\web\AssetBundle::basePath|basePath]]. Подобно [[yii\web\AssetBundle::basePath|basePath]],
  если вы определите [[yii\web\AssetBundle::sourcePath|sourcePath]], [диспетчер ресурсов](#asset-manager)
  проигнорирует это свойство и опубликует ресурсы, определённые в [[yii\web\AssetBundle::sourcePath|sourcePath]]. [Псевдонимы](concept-aliases.md) могут быть использованы здесь.


